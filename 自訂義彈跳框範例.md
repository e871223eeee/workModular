**自訂義彈跳框範例**
___
樣式:

![image](https://github.com/e871223eeee/workModular/assets/58674364/3b7ad0eb-be29-4bc6-a69c-f3b6a2cdaa33)
___
首先新增一支檔案 `CustomValue_View.vue` 並寫入以下內容
```html
<template>
  <div ref="modal" class="modal fade" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- 標題 -->
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">CustomValue_標題</h5>
          <button
            type="button"
            class="btn-close"
            aria-label="Close"
            @click="modal.hide()"
          ></button>
        </div>
        <!-- 驗證 -->
        <validation-observer ref="observer" v-slot="{ handleSubmit }">
          <!-- 內容 -->
          <div class="modal-body">...</div>
          <!-- 下方按鈕 -->
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary text-white"
              @click="handleSubmit(submit)"
            >
              新增
            </button>
          </div>
        </validation-observer>
      </div>
    </div>
  </div>
</template>

<!-- js -->
<script>
//定義model方法模塊
import { Modal } from 'bootstrap';

export default {
  //名稱
  name: 'CustomValue_名稱',
  components: {},
  //資料
  data() {
    return {
      //資料(該畫面輸入資料或是要顯示的資料)
      formInput: {},

      //選項(下拉式選單用)
      options: {},
    };
  },

  //畫面初始化
  mounted() {
    this.modal = new Modal(this.$refs.modal);
  },

  //方法
  methods: {
    //顯示(依需求修改)
    show(params) {
      this.$refs.observer.reset()
      if (params == undefined) {
        //新增(初始化界面)
        this.modalType = 0;
      } else {
        //修改(填入原有資料)
        this.modalType = 1;
        this.inputParams = { ...params };
      }
      this.modal.show();
    //新增
    async submit() {
      this.modal.hide();
    },
  },
};
</script>
```
___
主畫面要做的事

開啟/關閉呼叫方式
- 開啟 -> `this.$refs.CustomValue_View.modal.show()`
- 關閉 -> `this.$refs.CustomValue_View.modal.hide()`
```html
<template>
  <DefaultLayout :module-key="$route.name" :module-title="title">
    <!-- 該畫面自訂義模塊 -->
    <CustomValue_View ref="CustomValue_View"/>
    <!-- 程式主體 -->
    <template #search>
      
    </template>
  </DefaultLayout>
</template>

<!-- js -->
<script>
//引入公版模塊
import DefaultLayout from '@/components/Layout/DefaultLayout.vue';
//引入該畫面自訂義模塊
import CustomValue_View from '@/CustomValue_View.vue';
export default {
  //名稱
  name: 'XXXXXX',
  components: {
    //定義公版模塊
    DefaultLayout,
    //定義該畫面自訂義模塊
    CustomValue_View,
  },
  //資料
  data() {
    return {
      title: '',

      //傳入的參數
      inputParams: {},

      //該模組模式
      modalType: '',

      //資料(該畫面輸入資料或是要顯示的資料)
      formInput: {

      },

      //選項(下拉式選單用)
      options: {
        
      },

      //api的搜尋參數
      searchParams: {},
    };
  },

  //畫面初始化
  mounted() {},

  //方法
  methods: {
    //新增
    showAddModal() {
      this.$refs.CustomValue_View.show();
    },
  },
};
</script>

```
___
實際畫面範例

顯示

![image](https://github.com/e871223eeee/workModular/assets/58674364/78992535-543e-44f0-a809-9dcecfd3a47e)
![image](https://github.com/e871223eeee/workModular/assets/58674364/764f0d99-148d-44d1-b763-b1d28c625417)

新增/維護呼叫方式
- 新增 -> `this.$refs.NS60704FunctionModal.show()`
- 維護 -> `this.$refs.NS60704FunctionModal.show(dataID)`

```html
<template>
  <div ref="modal" class="modal fade" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- 標題 -->
        <div class="modal-header" v-if="modalType == 0">
          <h5 class="modal-title" id="exampleModalLabel">新增退料率執行分數</h5>
          <button
            type="button"
            class="btn-close"
            aria-label="Close"
            @click="modal.hide()"
          ></button>
        </div>
        <div class="modal-header" v-if="modalType == 1">
          <h5 class="modal-title" id="exampleModalLabel">維護退料率執行分數</h5>
          <button
            type="button"
            class="btn-close"
            aria-label="Close"
            @click="modal.hide()"
          ></button>
        </div>
        <!-- 驗證 -->
        <validation-observer ref="observer" v-slot="{ handleSubmit }">
          <!-- 內容 -->
          <div class="modal-body">
            <!-- 年度/季別 -->
            <div class="input-group">
              <!-- 年度 -->
              <div class="form-group me-3 mb-4 required">
                <label for="roleYearDatePicker" class="form-label">年度</label>
                <validation-provider
                  v-slot="{ classes, errors }"
                  :rules="{ required: true }"
                  name="年度"
                >
                  <DatePickerEx
                    v-model="formInput.roleYear"
                    :input-attr="{ id: 'roleYearDatePicker' }"
                    :input-class="{ ...classes, 'form-control': true }"
                    :formatter="yearFormatter"
                    placeholder="年度"
                    type="year"
                    output="number"
                    class="d-block"
                    :disabled="modalType==1"
                  />
                  <span class="text-danger position-absolute">{{
                    errors[0]
                  }}</span>
                </validation-provider>
              </div>
              <!-- 季別 -->
              <div class="form-group me-3 mb-4 required">
                <label for="CustomValue_1 Select" class="form-label"
                  >季別</label
                >
                <validation-provider
                  v-slot="{ classes, errors }"
                  :rules="{ required: true }"
                  name="季別"
                >
                  <select
                    id="CustomValue_1 Select"
                    v-model="formInput.roleSeasonFarewell"
                    :class="classes"
                    class="form-select"
                    :disabled="modalType==1"
                  >
                    <option value="">選擇值</option>
                    <option
                      v-for="option in options.roleSeasonFarewellArray"
                      :key="option.id"
                      :value="option.id"
                    >
                      {{ option.title }}
                    </option>
                  </select>
                  <span class="text-danger position-absolute">{{
                    errors[0]
                  }}</span>
                </validation-provider>
              </div>
            </div>
            <!-- 基本分 -->
            <div class="input-group">
              <div class="form-group me-3 mb-4">
                <label for="roleBasicPointsInputBox" class="form-label"
                  >基本分</label
                >
                <input
                  id="roleBasicPointsInputBox"
                  v-model="formInput.roleBasicPoints"
                  type="text"
                  class="form-control"
                  placeholder="基本分"
                />
              </div>
            </div>
            <!-- 退料率合理標準 -->
            <div class="input-group">
              <div class="form-group me-3 mb-4">
                <label
                  for="roleReasonableStandardForReturnRateInputBox"
                  class="form-label"
                  >退料率合理標準</label
                >
                <input
                  id="roleReasonableStandardForReturnRateInputBox"
                  v-model="formInput.roleReasonableStandardForReturnRate"
                  type="text"
                  class="form-control"
                  placeholder="退料率合理標準"
                />
              </div>
            </div>
            <!-- 每超過% -->
            <div class="input-group">
              <div class="form-group me-3 mb-4">
                <label for="roleExceedsTheStandardInputBox" class="form-label"
                  >超過退料率合理標準減分</label
                >
                <div class="d-flex flex-row align-items-center">
                  <nobr><span class="me-1">每超過</span></nobr>
                  <input
                    id="roleExceedsTheStandardInputBox"
                    v-model="formInput.roleExceedsTheStandard"
                    type="text"
                    class="form-control"
                  />
                  <nobr><span class="mx-1">%</span></nobr>
                  <nobr><span class="mx-1">減</span></nobr>
                  <input
                    v-model="formInput.rolePointsDeducted"
                    type="text"
                    class="form-control"
                  />
                  <nobr><span class="mx-1">分</span></nobr>
                </div>
              </div>
            </div>
            <!-- 每低於% -->
            <div class="input-group">
              <div class="form-group me-3 mb-4">
                <label for="roleBelowParInputBox" class="form-label"
                  >低於退料率合理標準加分</label
                >
                <div class="d-flex flex-row align-items-center">
                  <nobr><span class="me-1">每低於</span></nobr>
                  <input
                    id="roleBelowParInputBox"
                    v-model="formInput.roleBelowPar"
                    type="text"
                    class="form-control"
                  />
                  <nobr><span class="mx-1">%</span></nobr>
                  <nobr><span class="mx-1">加</span></nobr>
                  <input
                    v-model="formInput.roleAddPoints"
                    type="text"
                    class="form-control"
                  />
                  <nobr><span class="mx-1">分</span></nobr>
                </div>
              </div>
            </div>
            <!-- 備註 -->
            <div class="input-group">
              <div class="form-group me-3 mb-4 w-100">
                <label for="remarkInputBox" class="form-label">備註</label>
                <textarea
                  class="form-control"
                  id="remarkInputBox"
                  v-model="formInput.remark"
                  placeholder="備註"
                  maxlength="50"
                  rows="3"
                ></textarea>
              </div>
            </div>
          </div>
          <!-- 下方按鈕(新增畫面) -->
          <div class="modal-footer" v-if="modalType == 0">
            <button
              type="button"
              class="btn btn-secondary text-white"
              @click="handleSubmit(submit)"
            >
              新增
            </button>
          </div>
          <!-- 下方按鈕(編輯畫面) -->
          <div class="modal-footer" v-if="modalType == 1">
            <div class="me-3">
              <button
                type="button"
                class="btn btn-primary"
                @click="handleSubmit(reviseHandler)"
              >
                確認
              </button>
            </div>
            <div class="me-3">
              <button
                type="button"
                class="btn btn-danger"
                @click="handleSubmit(deleteHandler)"
              >
                刪除
              </button>
            </div>
            <div class="me-3">
              <button
                type="button"
                class="btn btn-outline-secondary"
                @click="this.modal.hide()"
              >
                取消
              </button>
            </div>
          </div>
        </validation-observer>
      </div>
    </div>
  </div>
</template>

<!-- js -->
<script>
//定義model方法模塊
import { Modal } from 'bootstrap';
//引入時間選擇器模塊
import DatePickerEx from '@/components/Util/DatePickerEx.vue';
export default {
  //名稱
  name: 'NS60704FunctionModal',
  components: {
    //定義時間選擇器模塊
    DatePickerEx,
  },
  //資料
  data() {
    return {
      //傳入的參數
      inputParams: {},

      //該模組模式(新增/編輯)
      modalType: '',

      //資料(該畫面輸入資料或是要顯示的資料)
      formInput: {
        //年度
        roleYear: null,
        //季別
        roleSeasonFarewell: '',
        //基本分
        roleBasicPoints: '',
        //退料率合理標準
        roleReasonableStandardForReturnRate: '',
        //每超過%
        roleExceedsTheStandard: '',
        //減分
        rolePointsDeducted: '',
        //每低於%
        roleBelowPar: '',
        //加分
        roleAddPoints: '',
        //備註
        remark: '',
      },

      //選項(下拉式選單用)
      options: {
        roleSeasonFarewellArray: [
          { id: 0, title: '第一季' },
          { id: 1, title: '第二季' },
          { id: 2, title: '第三季' },
          { id: 3, title: '第四季' },
        ],
      },
    };
  },

  //畫面初始化
  mounted() {
    this.modal = new Modal(this.$refs.modal);
  },

  //方法
  methods: {
    //顯示
    show(params) {
      this.$refs.observer.reset();
      if (params == undefined) {
        //新增(初始化界面)
        this.modalType = 0;
        //年度
        this.formInput.roleYear = null;
        //季別
        this.formInput.roleSeasonFarewell = '';
        //基本分
        this.formInput.roleBasicPoints = '';
        //退料率合理標準
        this.formInput.roleReasonableStandardForReturnRate = '';
        //每超過%
        this.formInput.roleExceedsTheStandard = '';
        //減分
        this.formInput.rolePointsDeducted = '';
        //每低於%
        this.formInput.roleBelowPar = '';
        //加分
        this.formInput.roleAddPoints = '';
        //備註
        this.formInput.remark = '';
      } else {
        //修改(填入原有資料)
        this.modalType = 1;
        this.inputParams = { ...params };
      }
      this.modal.show();
    },
    //修改
    reviseHandler() {
      console.log(this.formInput);
    },
    //刪除
    deleteHandler() {
      console.log(this.formInput);
    },
    //新增
    async submit() {
      console.log(this.formInput);
      this.modal.hide();
    },
  },
};
</script>
```
